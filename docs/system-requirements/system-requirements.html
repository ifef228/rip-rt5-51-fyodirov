<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Расчет системных требований</title>
    <style>
        @page {
            size: A4;
            margin: 1.5cm;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Times New Roman', Times, serif;
            font-size: 12pt;
            line-height: 1.3;
            color: #000;
            background: #fff;
            max-width: 210mm;
            margin: 0 auto;
            padding: 15mm;
        }

        h1 {
            font-size: 16pt;
            font-weight: bold;
            text-align: center;
            margin: 8pt 0;
            text-transform: uppercase;
        }

        h2 {
            font-size: 14pt;
            font-weight: bold;
            margin: 10pt 0 6pt 0;
        }

        .subtitle {
            text-align: center;
            font-size: 11pt;
            margin-bottom: 8pt;
        }

        p {
            margin: 4pt 0;
        }

        .formula {
            margin: 5pt 0 5pt 20pt;
            font-style: italic;
            position: relative;
            padding-right: 40pt;
        }

        .formula-number {
            position: absolute;
            right: 0;
            font-weight: bold;
        }

        .calculation {
            margin: 3pt 0 3pt 20pt;
        }

        sub {
            font-size: 0.75em;
            vertical-align: sub;
        }

        table {
            width: 100%;
            border-collapse: collapse;
            margin: 8pt 0;
            font-size: 11pt;
        }

        th, td {
            border: 1px solid #000;
            padding: 4pt;
            text-align: center;
        }

        th {
            background-color: #f0f0f0;
            font-weight: bold;
        }

        .footer {
            text-align: center;
            margin-top: 10pt;
            font-weight: bold;
        }

        @media print {
            body {
                padding: 0;
            }
        }
    </style>
</head>
<body>
    <h1>РАСЧЕТ СИСТЕМНЫХ ТРЕБОВАНИЙ</h1>
    <p class="subtitle"><strong>Веб-приложение "Калькулятор температуры атмосферы"</strong> | ГОСТ 34.602-2020</p>

    <h2>1. ОПЕРАТИВНАЯ ПАМЯТЬ (ОЗУ)</h2>

    <div class="formula">
        RAM<sub>total</sub> = RAM<sub>os</sub> + RAM<sub>frontend</sub> + RAM<sub>backend</sub> + RAM<sub>db</sub> + RAM<sub>redis</sub> + RAM<sub>minio</sub> + RAM<sub>buffer</sub>
        <span class="formula-number">(1)</span>
    </div>

    <p class="calculation">Dev: RAM = 2 + 1 + 1.2 + 0.4 + 0.12 + 0.5 + 1.3 = <strong>6.5 ГБ</strong> (2)</p>
    <p class="calculation">Prod: RAM = 2 + 0.15 + 2.5 + 2.5 + 1 + 1 + 2.7 = <strong>11.85 ГБ</strong> (3)</p>

    <div class="formula">
        Heap<sub>JVM</sub> = Base + (Users × Memory<sub>per_user</sub>)
        <span class="formula-number">(4)</span>
    </div>

    <p class="calculation">Dev: Heap = 256 + (100 × 2) = 456 МБ ≈ <strong>512 МБ</strong> (5)</p>
    <p class="calculation">Prod: Heap = 512 + (500 × 2) = 1512 МБ ≈ <strong>2048 МБ</strong> (6)</p>

    <h2>2. ПРОЦЕССОР (CPU)</h2>

    <div class="formula">
        RPS = (Users × Requests<sub>per_min</sub>) / 60
        <span class="formula-number">(7)</span>
    </div>

    <p class="calculation">Dev: RPS = (100 × 10) / 60 = <strong>17 RPS</strong> (8)</p>
    <p class="calculation">Prod: RPS = (500 × 6) / 60 = <strong>50 RPS</strong> (9)</p>

    <div class="formula">
        CPU<sub>cores</sub> = Threads<sub>total</sub> / Ratio
        <span class="formula-number">(10)</span>
    </div>

    <p class="calculation">Dev: CPU = 20 / 4 = <strong>5 ядер</strong> (11)</p>
    <p class="calculation">Prod: CPU = (200 + 100) × 0.15 / 4 = <strong>11.25 ядер</strong> (12)</p>

    <h2>3. ДИСКОВОЕ ПРОСТРАНСТВО</h2>

    <div class="formula">
        Disk<sub>total</sub> = Disk<sub>os</sub> + Disk<sub>data</sub> + Disk<sub>logs</sub> + Disk<sub>backup</sub> + Disk<sub>temp</sub>
        <span class="formula-number">(13)</span>
    </div>

    <p class="calculation">Dev: Disk = 22 + 2.5 + 5 + 0 + 2 = <strong>31.5 ГБ</strong> (14)</p>
    <p class="calculation">Prod: Disk = 22 + 8.5 + 20 + 2 + 5 = <strong>57.5 ГБ</strong> (15)</p>
    <p class="calculation">Prod (резерв 50%): Disk = 57.5 × 1.5 = <strong>87 ГБ</strong> (16)</p>

    <div class="formula">
        Table<sub>size</sub> = Row<sub>size</sub> × Rows × Index<sub>factor</sub>
        <span class="formula-number">(17)</span>
    </div>

    <div class="formula">
        IOPS = RPS × Queries × IOPS<sub>per_query</sub>
        <span class="formula-number">(18)</span>
    </div>

    <p class="calculation">Prod: IOPS = 50 × 3 × 2 = <strong>300 IOPS</strong> (19)</p>

    <h2>4. ИТОГОВЫЕ ТРЕБОВАНИЯ</h2>

    <table>
        <thead>
            <tr>
                <th>Параметр</th>
                <th>Development</th>
                <th>Production</th>
            </tr>
        </thead>
        <tbody>
            <tr>
                <td><strong>ОЗУ</strong></td>
                <td>8 ГБ</td>
                <td>16 ГБ</td>
            </tr>
            <tr>
                <td><strong>CPU</strong></td>
                <td>4 ядра, 2.5 ГГц</td>
                <td>8 ядер, 3.0 ГГц</td>
            </tr>
            <tr>
                <td><strong>Диск</strong></td>
                <td>50 ГБ SSD</td>
                <td>128 ГБ SSD</td>
            </tr>
            <tr>
                <td><strong>IOPS</strong></td>
                <td>—</td>
                <td>≥ 300 (SSD/NVMe)</td>
            </tr>
        </tbody>
    </table>

    <p class="footer">2024</p>

</body>
</html>
